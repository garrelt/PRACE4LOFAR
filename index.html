<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>PRACE4LOFAR by garrelt</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>PRACE4LOFAR</h1>
        <h2>A repository for the PRACE4LOFAR project</h2>
        <a href="https://github.com/garrelt/PRACE4LOFAR" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a id="welcome-to-prace4lofar-pages" class="anchor" href="#welcome-to-prace4lofar-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to PRACE4LOFAR Pages.</h3>

<p>On these pages we document the PRACE4LOFAR simulations which were run as part of the PRACE projects 2012061089 and 2014102339.</p>

<p>The simulations were performed with two tools: the n-body code cubep3m and the radiative transfer code C2-Ray.</p>

<hr>

<h2>
<a id="file-formats" class="anchor" href="#file-formats" aria-hidden="true"><span class="octicon octicon-link"></span></a>File Formats</h2>

<p>The results of the project come in the form of several types of files.</p>

<p>The following describes the file formats. See Conversion Factors for more information on how to scale the
contents to physical units.</p>

<h1>
<a id="gridded-quantities-from-the-nbody-simulations" class="anchor" href="#gridded-quantities-from-the-nbody-simulations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gridded quantities from the nbody simulations</h1>

<p>These files contain gridded quantities generated from the n-body results using Jun Koda's sph-smooth code.
Normally we generate these for different grid sizes, for example 300^3, 600^3 and 1200^3. The file name does not contain any information about the grid size, normally you should figure out the grid size from the directory the files are in.</p>

<p>All these files contain binary streams (no record separators, little endian) and start with a header specifying the size of the data contained. The arrays are stored in fortran style, meaning that the first index varies first: for example for 300^3 (1,1,1), (2,1,1), (3,1,1), .... (300,1,1), (1,2,1), (2,2,1), etc.</p>

<p>1) *n_all.dat
Contains the IGM density fields in cubep3m units. In these density fields the contribution from the halos have been subtracted. These are the density fields which we normally use for reionization simulations.
The number in the filename is the redshift. </p>

<pre><code>* Header of three 4 byte integers: mx,my,mz
* (mx,my,mz) array of 4 bytes; first index varies first (fortran style).
</code></pre>

<p>2) *ntot_all.dat
Contains the total density fields in cubep3m units. The total density field contains the contributions
from halos.
The number in the filename is the redshift.</p>

<pre><code>* Header of three 4 byte integers: mx,my,mz
* (mx,my,mz) array of 4 bytes; first index varies first (fortran style).
</code></pre>

<p>3) *v_all.dat
Contains the momentum field in cubep3m units.
Number in the filename is the redshift.</p>

<pre><code>* Header of three 4 byte integers: mx,my,mz
* (3,mx,my,mz) array of 4 bytes; first index varies first (fortran).
</code></pre>

<p>4) *c_all.dat
Contains a measurement of the clumping factor in each cell. Note that the numbers in these files are not the actual clumping factors and need conversion before using them in a simulation.</p>

<pre><code>* Header of three 4 byte integers: mx,my,mz
* (mx,my,mz) array of 4 bytes; first index varies first (fortran style).
</code></pre>

<h1>
<a id="halo-list-quantities-from-the-n-body-simulation" class="anchor" href="#halo-list-quantities-from-the-n-body-simulation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Halo list quantities from the n-body simulation</h1>

<p>The cubep3m code finds halos using a spherical overdensity method. These halos are recorded in halo lists which contain detailed information about the halos. There are two types of halo list files, depending on whether the run was performed with particle IDs or not. Since particle IDs impact the memory usage of cubep3m not all runs were performed with particle IDs.</p>

<p>To use the halos in a reionization simulation we process them into source files. These source files contain the total mass of halos in certain mass bins in each grid cell. Since multiple halos may live in the same grid cell we reduce the number of sources by gridding the halos this way. Each grid size needs its own set of source files.</p>

<p>1) *halo.dat
Contains the full halo lists from cubep3m in cubep3m units. The number in the filename is the redshift. The file is in ASCII character. Each line contains the following halo data</p>

<ul>
<li>halo position(:), </li>
<li>mean position of particles in halo (:), </li>
<li>mean velocity vector of particles in halo (:)</li>
<li>angular momentum vector (:)</li>
<li>velocity dispersion vector (:)</li>
<li>radius</li>
<li>mass</li>
<li>sum of particle masses - do not use</li>
<li>uncorrected mass - do not use</li>
<li>var(:) - undocumented 3 vector</li>
</ul>

<p>2) *_resolution_sources.dat
Contains the source lists. The number in the filename is the redshift. The resolution is indicated by the resolution string: coarsest, coarser, coarse. For example for the 500/h Mpc simulation, coarsest corresponds to the 300^3 grid.
The file is in ASCII. The first line contains the number of sources in the file. After that each line lists</p>

<ul>
<li>cell coordinate</li>
<li>mass in higher mass bin ('HMACHs', &gt; 10^9 M0)</li>
<li>mass in lower mass bin ('LMACHs', &lt; 10^9 M0)</li>
</ul>

<h1>
<a id="reionization-simulation-quantities" class="anchor" href="#reionization-simulation-quantities" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reionization simulation quantities</h1>

<p>These are the results of C2Ray simulations. The file formats are either ASCII or unformatted fortran.
Unformatted fortran consists of binary data wrapped in 4 byte record separators. When reading with fortran these record separators are used as a consistency check on the contents of the file. If you read these files with C or python you need to read in the records explicitly.</p>

<p>1) xfrac3d*
Contains the hydrogen ionization fraction.
Number in the filename is the redshift. The file contains two binary (little endian) records:</p>

<pre><code>* Header of three 4 byte integers: mx,my,mz
* (mx,my,mz) array of 8 (!) bytes; first index varies first (fortran).
</code></pre>

<p>Note that there are typically twice as many xfrac3d files than density and velocity files. This is because we take two time steps per redshift slice. This also means that the xfrac3d files look back in redshift:
for example xfrac3d_8.123.bin and xfrac3d_8.456.bin were both calculated using the density field from 8.789n_all.dat
(and xfrac3d_8.123.bin provides the initial condition for the next time step which uses 8.123n_all.dat as density field).</p>

<p>2) IonRates3D*
Contains the photo-ionization rate, often denoted as Gamma in the literature.
Number in the filename is the redshift. The file contains two binary (little endian) records:</p>

<pre><code>* Header of three 4 byte integers: mx,my,mz
* (mx,my,mz) array of 4 bytes; first index varies first (fortran).
</code></pre>

<p>3) Photon statistics files
To be continued</p>

<h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to GitHub Pages.</h3>

<p>This automatic page generator is the easiest way to create beautiful pages for all of your projects. Author your page content here using GitHub Flavored Markdown, select a template crafted by a designer, and publish. After your page is generated, you can check out the new branch:</p>

<pre><code>$ cd your_repo_root/repo_name
$ git fetch origin
$ git checkout gh-pages
</code></pre>

<p>If you're using the GitHub for Mac, simply sync your repository and you'll see the new branch.</p>

<h3>
<a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Designer Templates</h3>

<p>We've crafted some handsome templates for you to use. Go ahead and continue to layouts to browse through them. You can easily go back to edit your page before publishing. After publishing your page, you can revisit the page generator and switch to another theme. Your Page content will be preserved if it remained markdown format.</p>

<h3>
<a id="rather-drive-stick" class="anchor" href="#rather-drive-stick" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rather Drive Stick?</h3>

<p>If you prefer to not use the automatic generator, push a branch named <code>gh-pages</code> to your repository to create a page manually. In addition to supporting regular HTML content, GitHub Pages support Jekyll, a simple, blog aware static site generator written by our own Tom Preston-Werner. Jekyll makes it easy to create site-wide headers and footers without having to copy them across every page. It also offers intelligent blog support and other advanced templating features.</p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>You can <a href="https://github.com/blog/821" class="user-mention">@mention</a> a GitHub username to generate a link to their profile. The resulting <code>&lt;a&gt;</code> element will link to the contributor's GitHub Profile. For example: In 2007, Chris Wanstrath (<a href="https://github.com/defunkt" class="user-mention">@defunkt</a>), PJ Hyett (<a href="https://github.com/pjhyett" class="user-mention">@pjhyett</a>), and Tom Preston-Werner (<a href="https://github.com/mojombo" class="user-mention">@mojombo</a>) founded GitHub.</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check out the documentation at <a href="https://help.github.com/pages">https://help.github.com/pages</a> or contact <a href="mailto:support@github.com">support@github.com</a> and weâ€™ll help you sort it out.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/garrelt/PRACE4LOFAR/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/garrelt/PRACE4LOFAR/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/garrelt/PRACE4LOFAR"></a> is maintained by <a href="https://github.com/garrelt">garrelt</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
